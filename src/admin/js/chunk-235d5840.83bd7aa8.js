(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-235d5840"],{"0a49":function(e,t,i){var n=i("9b43"),a=i("626a"),o=i("4bf8"),s=i("9def"),l=i("cd1c");e.exports=function(e,t){var i=1==e,r=2==e,c=3==e,u=4==e,d=6==e,p=5==e||d,f=t||l;return function(t,l,h){for(var g,m,v=o(t),b=a(v),y=n(l,h,3),w=s(b.length),I=0,x=i?f(t,w):r?f(t,0):void 0;w>I;I++)if((p||I in b)&&(g=b[I],m=y(g,I,v),e))if(i)x[I]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return I;case 2:x.push(g)}else if(u)return!1;return d?-1:c||u?u:x}}},"20d6":function(e,t,i){"use strict";var n=i("5ca1"),a=i("0a49")(6),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),n(n.P+n.F*s,"Array",{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(o)},c874:function(e,t,i){"use strict";i.r(t);i("7f7f");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-container"},[t("div",{staticClass:"filter-container"},[t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"filter-item",attrs:{type:"warning",title:"刷新",circle:"",icon:"el-icon-refresh"},on:{click:e.handleFilter}}),e.permission.create?t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleCreate}},[e._v("添加")]):e._e()],1),t("el-table",{attrs:{border:"","highlight-current-row":"",data:e.tableList}},[t("el-table-column",{attrs:{align:"center",label:"序号",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.$index+1)+"\n      ")]}}])}),t("el-table-column",{attrs:{prop:"name",label:"名称"}}),t("el-table-column",{attrs:{label:"操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button-group",[e.permission.edit?t("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(t){return e.updateItem(i.row)}}},[e._v("编辑")]):e._e(),e.permission.delete?t("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.delItem(i.row.id)}}},[e._v("删除")]):e._e()],1)]}}])})],1),t("div",{staticClass:"pagination-container"},[t("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{background:"","current-page":e.page,"page-sizes":[10,15,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.pageSizeChange,"current-change":e.pageChange}})],1),t("el-dialog",{attrs:{title:"分类",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{ref:"newItem",attrs:{model:e.newItem,rules:e.newItemRules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"名称",prop:"name"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newItem.name,callback:function(t){e.$set(e.newItem,"name",t)},expression:"newItem.name"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.confirmCreateItem}},[e._v("确 定")])],1)],1)],1)},a=[],o=(i("20d6"),{name:"PeriphTypeIndex",data:function(){return{permission:{create:this.$checkAuth("PeriphTypeCreate"),edit:this.$checkAuth("PeriphTypeEdit"),delete:this.$checkAuth("PeriphTypeDelete")},page:1,pageSize:10,total:0,tableList:[],map:{},loading:!1,dialogVisible:!1,MenuDialogVisible:!1,newItem:{},newItemRules:{name:[{required:!0,message:"名称必填"}]},type_id:""}},created:function(){this.getList()},methods:{handleCreate:function(){this.type_id="",this.newItem={status:1},this.dialogVisible=!0},getList:function(){var e=this;this.loading=!0,this.$ajax.post("/api/periphType/index",{pageSize:this.pageSize,page:this.page}).then((function(t){e.tableList=t.data,e.total=t.total})).finally((function(){e.loading=!1}))},pageSizeChange:function(e){this.pageSize=e,this.getList()},pageChange:function(e){this.page=e,this.getList()},handleFilter:function(){this.page=1,this.getList()},delItem:function(e){var t=this;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.loading=!0,t.$ajax.post("/api/periphType/delete/id/"+e).then((function(i){t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3});var n=t.tableList.findIndex((function(t){return t.id===e}));t.tableList.splice(n,1),t.total-=1})).finally((function(){t.loading=!1}))}))},updateItem:function(e){this.newItem=e,this.type_id=e.id,this.dialogVisible=!0},addItem:function(){var e=this;this.loading=!0,this.$ajax.post("/api/periphType/add",this.newItem).then((function(t){e.dialogVisible=!1,e.getList()})).finally((function(){e.loading=!1}))},upItem:function(){var e=this;this.loading=!0,this.$ajax.post("/api/periphType/update/id/"+this.type_id,this.newItem).then((function(t){e.dialogVisible=!1,e.getList()})).finally((function(){e.loading=!1}))},confirmCreateItem:function(){var e=this;this.$refs.newItem.validate((function(t){if(t)return e.type_id?e.upItem():e.addItem(),!1}))}}}),s=o,l=i("2877"),r=Object(l["a"])(s,n,a,!1,null,"8ccec7f6",null);t["default"]=r.exports},cd1c:function(e,t,i){var n=i("e853");e.exports=function(e,t){return new(n(e))(t)}},e853:function(e,t,i){var n=i("d3f4"),a=i("1169"),o=i("2b4c")("species");e.exports=function(e){var t;return a(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!a(t.prototype)||(t=void 0),n(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}}}]);