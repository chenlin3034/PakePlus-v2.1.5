(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d4033"],{"5ee2":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"filter-container"},[e("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"单元识别码"},model:{value:t.map.keyword,callback:function(e){t.$set(t.map,"keyword",e)},expression:"map.keyword"}}),e("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("搜索")]),e("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"filter-item",attrs:{type:"warning",icon:"el-icon-refresh"},on:{click:t.handleFilter}},[t._v("刷新")])],1),e("el-table",{attrs:{border:"","highlight-current-row":"",data:t.tableList}},[e("el-table-column",{attrs:{align:"center",label:"ID",prop:"id",width:"100"}}),e("el-table-column",{attrs:{prop:"qrcode",label:"单元识别码"}}),e("el-table-column",{attrs:{prop:"qrcode_two",label:"防伪码"}}),e("el-table-column",{attrs:{prop:"batch_code",label:"批号"}}),e("el-table-column",{attrs:{prop:"add_time",label:"创建时间"}}),e("el-table-column",{attrs:{label:"操作",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button-group",[t.permission.delete?e("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(e){return t.delItem(a.row.id)}}},[t._v("删除")]):t._e()],1)]}}])})],1),e("div",{staticClass:"pagination-container"},[e("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{background:"","current-page":t.page,"page-sizes":[10,15,20,50],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.pageSizeChange,"current-change":t.pageChange}})],1)],1)},n=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3"));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={name:"BatchQrcodeList",data:function(){return{permission:{delete:this.$checkAuth("BatchQrcodeDelete")},batch_id:"",page:1,pageSize:10,total:0,tableList:[],map:{},loading:!1,exportLoading:!1}},created:function(){this.batch_id=this.$route.query.batch_id,this.getList()},activated:function(){this.getList()},methods:{delItem:function(t){var e=this;this.$confirm("删除后不可恢复，确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$ajax.post("/api/batch/qrcodeDelete",{id:t,batch_id:e.batch_id}).then((function(t){e.getList(),e.$message.success("删除成功")})).finally((function(){e.loading=!1}))}))},getList:function(){var t=this;this.loading=!0,this.$ajax.get("/api/batch/qrcode?batch_id="+this.batch_id,{params:l({page:this.page,pageSize:this.pageSize},this.map)}).then((function(e){t.loading=!1,t.tableList=e.data,t.total=e.total})).catch((function(){t.loading=!1}))},pageSizeChange:function(t){this.pageSize=t,this.getList()},pageChange:function(t){this.page=t,this.getList()},handleFilter:function(){this.page=1,this.getList()}}},s=c,p=a("2877"),d=Object(p["a"])(s,i,n,!1,null,"4b30298e",null);e["default"]=d.exports}}]);