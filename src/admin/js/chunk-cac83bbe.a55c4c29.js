(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cac83bbe"],{"0e05":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return l}));var i=function(e,t,a){if(t){var i=/^1[3456789]\d{9}$/;i.test(t)?a():a(new Error("æ‰‹æœºå·æ ¼å¼é”™è¯¯"))}else a()},n=function(e,t,a){if(t){var i=/^((0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/;i.test(t)?a():a(new Error("ç”µè¯å·æ ¼å¼é”™è¯¯"))}else a()},l=function(e,t,a){if(t){var i=/^1[3456789]\d{9}$/,n=/^((0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/;i.test(t)||n.test(t)?a():a(new Error("ç”µè¯å·æ ¼å¼é”™è¯¯"))}else a()}},"20c2":function(e,t,a){"use strict";a("7f7f");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-container"},[t("div",{staticClass:"filter-container"},[e.permission.create?t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleCreate}},[e._v("æ·»åŠ ")]):e._e(),t("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"ç”¨æˆ·å"},model:{value:e.map.username,callback:function(t){e.$set(e.map,"username",t)},expression:"map.username"}}),t("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"çœŸå®å§“å"},model:{value:e.map.name,callback:function(t){e.$set(e.map,"name",t)},expression:"map.name"}}),t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("æœç´¢")])],1),t("el-table",{attrs:{border:"","highlight-current-row":"",data:e.tableList}},[t("el-table-column",{attrs:{align:"center",label:"åºå·",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.$index+1)+"\n      ")]}}])}),t("el-table-column",{attrs:{prop:"username",label:"ç”¨æˆ·å"}}),t("el-table-column",{attrs:{prop:"mobile",label:"æ‰‹æœºå·"}}),t("el-table-column",{attrs:{prop:"realname",label:"çœŸå®å§“å"}}),t("el-table-column",{attrs:{prop:"create_time",label:"åˆ›å»ºæ—¶é—´"}}),t("el-table-column",{attrs:{prop:"status_name",align:"center",label:"çŠ¶æ€",width:"80"}}),t("el-table-column",{attrs:{label:"æ“ä½œ",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button-group",[e.permission.edit?t("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.updateItem(a.row)}}},[e._v("ç¼–è¾‘")]):e._e(),e.permission.delete?t("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.delItem(a.row.id)}}},[e._v("åˆ é™¤")]):e._e()],1)]}}])})],1),t("div",{staticClass:"pagination-container"},[t("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{background:"","current-page":e.page,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.pageSizeChange,"current-change":e.pageChange}})],1),t("m-dialog",{attrs:{title:"ç®¡ç†å‘˜",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{ref:"newItem",attrs:{model:e.newItem,rules:e.newItemRules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"ç”¨æˆ·å",prop:"username"}},[t("el-input",{attrs:{disabled:!!e.newItem.id,autocomplete:"off"},model:{value:e.newItem.username,callback:function(t){e.$set(e.newItem,"username",t)},expression:"newItem.username"}})],1),t("el-form-item",{attrs:{label:"æ‰‹æœºå·",prop:"mobile"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newItem.mobile,callback:function(t){e.$set(e.newItem,"mobile",t)},expression:"newItem.mobile"}})],1),t("el-form-item",{attrs:{label:"çœŸå®å§“å",prop:"realname"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newItem.realname,callback:function(t){e.$set(e.newItem,"realname",t)},expression:"newItem.realname"}})],1),t("el-form-item",{attrs:{label:"å¯†ç ",prop:"password"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.newItem.password,callback:function(t){e.$set(e.newItem,"password",t)},expression:"newItem.password"}})],1),t("el-form-item",{attrs:{label:"ç¡®è®¤å¯†ç ",prop:"repassword"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.newItem.repassword,callback:function(t){e.$set(e.newItem,"repassword",t)},expression:"newItem.repassword"}})],1),t("el-form-item",{attrs:{label:"è¶…çº§ç®¡ç†å‘˜"}},[t("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.newItem.is_admin,callback:function(t){e.$set(e.newItem,"is_admin",t)},expression:"newItem.is_admin"}})],1),t("el-form-item",{attrs:{label:"çŠ¶æ€"}},[t("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.newItem.status,callback:function(t){e.$set(e.newItem,"status",t)},expression:"newItem.status"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("å– æ¶ˆ")]),t("el-button",{attrs:{type:"primary"},on:{click:e.confirmCreateItem}},[e._v("ç¡® å®š")])],1)],1)],1)},n=[],l=(a("8e6e"),a("ac6a"),a("456d"),a("28a5"),a("ade3")),s=a("0e05"),r=a("8e6c");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(l["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u={name:"admin",props:{api:{type:Object,default:function(){return{list:"",add:"",update:"",delete:"",is_admin:0}}}},components:{MDialog:r["a"]},data:function(){var e=this,t=function(t,a,i){""!==e.newItem.repassword&&e.$refs.newItem.validateField("repassword"),i()},a=function(t,a,i){""===a?i(new Error("è¯·å†æ¬¡è¾“å…¥å¯†ç ")):a!==e.newItem.password?i(new Error("ä¸¤æ¬¡è¾“å…¥å¯†ç ä¸ä¸€è‡´!")):i()};return{permission:{create:!0,edit:!0,delete:!0},page:1,pageSize:10,total:0,tableList:[],map:{},loading:!1,statusList:[{label:"å¯ç”¨",value:"1"},{label:"ç¦ç”¨",value:"0"}],dialogVisible:!1,authGroupList:[],depList:[],depSelect:[],group_ids:[],newItem:{},newItemRules:{username:[{required:!0,message:"ç”¨æˆ·åå¿…å¡«"},{min:6,message:"é•¿åº¦æœ€å°‘6ä½"}],mobile:[{validator:s["a"]}],realname:[{min:2,message:"é•¿åº¦æœ€å°‘2ä½"}],password:[{validator:t,trigger:"blur"},{min:6,message:"é•¿åº¦æœ€å°‘6ä½"}],repassword:[{validator:a}]}}},created:function(){this.getList()},methods:{handleCreate:function(){this.newItem={status:1},this.group_ids=[],this.depSelect=[],this.dialogVisible=!0},getList:function(){var e=this;this.loading=!0,this.$ajax.post(this.api.list,c({page:this.page,pageSize:this.pageSize},this.map)).then((function(t){e.loading=!1,e.tableList=t.data,e.total=t.total})).catch((function(){e.loading=!1}))},pageSizeChange:function(e){this.pageSize=e,this.getList()},pageChange:function(e){this.page=e,this.getList()},handleFilter:function(){this.page=1,this.getList()},delItem:function(e){var t=this;this.$confirm("ç¡®è®¤åˆ é™¤?","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then((function(){t.$ajax.post(t.api.delete,{id:e}).then((function(){t.$notify({title:"æˆåŠŸ",message:"åˆ é™¤æˆåŠŸ",type:"success",duration:2e3}),t.getList()}))}))},updateItem:function(e){this.group_ids=e.groups?e.groups.split(","):[];var t=e.gov_dep_ids?e.gov_dep_ids.split(","):[];this.depSelect=t.map((function(e){return parseInt(e)})),this.newItem=e,this.dialogVisible=!0},upItem:function(e,t){var a=this;this.$ajax.post(this.api.update,e).then((function(e){a.$message({message:"æ›´æ–°æˆåŠŸ",type:"success"}),a.dialogVisible=!1,a.getList()}))},confirmCreateItem:function(){var e=this;if(this.newItem.group_ids=this.group_ids,this.newItem.id)return this.upItem(this.newItem,this.newItem.id),!1;this.$refs.newItem.validate((function(t){t&&(e.loading=!0,e.$ajax.post(e.api.add,e.newItem).then((function(t){e.$notify({title:"æˆåŠŸ",message:"æ·»åŠ æˆåŠŸ",type:"success",duration:2e3}),e.dialogVisible=!1,e.getList()})).finally((function(){e.loading=!1})))}))}}},p=u,d=a("2877"),m=Object(d["a"])(p,i,n,!1,null,"f4aff2ba",null);t["a"]=m.exports},"28a5":function(e,t,a){"use strict";var i=a("aae3"),n=a("cb7c"),l=a("ebd6"),s=a("0390"),r=a("9def"),o=a("5f1b"),c=a("520a"),u=a("79e5"),p=Math.min,d=[].push,m="split",g="length",f="lastIndex",h=4294967295,b=!u((function(){RegExp(h,"y")}));a("214f")("split",2,(function(e,t,a,u){var v;return v="c"=="abbc"[m](/(b)*/)[1]||4!="test"[m](/(?:)/,-1)[g]||2!="ab"[m](/(?:ab)*/)[g]||4!="."[m](/(.?)(.?)/)[g]||"."[m](/()()/)[g]>1||""[m](/.?/)[g]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!i(e))return a.call(n,e,t);var l,s,r,o=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,m=void 0===t?h:t>>>0,b=new RegExp(e.source,u+"g");while(l=c.call(b,n)){if(s=b[f],s>p&&(o.push(n.slice(p,l.index)),l[g]>1&&l.index<n[g]&&d.apply(o,l.slice(1)),r=l[0][g],p=s,o[g]>=m))break;b[f]===l.index&&b[f]++}return p===n[g]?!r&&b.test("")||o.push(""):o.push(n.slice(p)),o[g]>m?o.slice(0,m):o}:"0"[m](void 0,0)[g]?function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)}:a,[function(a,i){var n=e(this),l=void 0==a?void 0:a[t];return void 0!==l?l.call(a,n,i):v.call(String(n),a,i)},function(e,t){var i=u(v,e,this,t,v!==a);if(i.done)return i.value;var c=n(e),d=String(this),m=l(c,RegExp),g=c.unicode,f=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(b?"y":"g"),w=new m(b?c:"^(?:"+c.source+")",f),y=void 0===t?h:t>>>0;if(0===y)return[];if(0===d.length)return null===o(w,d)?[d]:[];var I=0,_=0,x=[];while(_<d.length){w.lastIndex=b?_:0;var k,S=o(w,b?d:d.slice(_));if(null===S||(k=p(r(w.lastIndex+(b?0:_)),d.length))===I)_=s(d,_,g);else{if(x.push(d.slice(I,_)),x.length===y)return x;for(var O=1;O<=S.length-1;O++)if(x.push(S[O]),x.length===y)return x;_=I=k}}return x.push(d.slice(I)),x}]}))},3756:function(e,t,a){},"7ea3":function(e,t,a){"use strict";a("3756")},"8c6f":function(e,t,a){"use strict";a.r(t);a("7f7f");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-container"},[t("div",{staticClass:"filter-container"},[e.permission.create?t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleCreate}},[e._v("æ·»åŠ ")]):e._e(),e.permission.setManage?t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"filter-item",attrs:{disabled:0===e.selectedIds.length,type:"warning"},on:{click:function(t){e.showManageDialog=!0}}},[e._v("è®¾ç½®ç¹è‚²ç»ç†")]):e._e(),t("el-input",{staticClass:"filter-item",staticStyle:{width:"100px"},attrs:{clearable:"",placeholder:"ç¼–å·"},model:{value:e.map.code,callback:function(t){e.$set(e.map,"code",t)},expression:"map.code"}}),t("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"åç§°"},model:{value:e.map.name,callback:function(t){e.$set(e.map,"name",t)},expression:"map.name"}}),t("manage-select",{staticClass:"filter-item",model:{value:e.map.manage_id,callback:function(t){e.$set(e.map,"manage_id",t)},expression:"map.manage_id"}}),t("region",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{value:e.map.region,showAllLevels:!1,placeholder:"æˆæƒåŒºåŸŸ"},on:{"update:value":function(t){return e.$set(e.map,"region",t)}}}),t("el-select",{staticClass:"filter-item",staticStyle:{width:"100px"},attrs:{clearable:"",placeholder:"çŠ¶æ€"},model:{value:e.map.status,callback:function(t){e.$set(e.map,"status",t)},expression:"map.status"}},e._l(e.statusList,(function(e,a){return t("el-option",{key:a,attrs:{label:e.label,value:e.value}})})),1),t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("æœç´¢")]),t("el-dropdown",{staticClass:"filter-item",attrs:{trigger:"click",disabled:e.exportLoading},on:{command:e.exportExcel}},[t("el-button",{attrs:{type:"primary"}},[e._v("\n        å¯¼å‡º"),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:0}},[e._v("å¯¼å‡ºæœ¬é¡µ")]),t("el-dropdown-item",{attrs:{command:1}},[e._v("å¯¼å‡ºå…¨éƒ¨")])],1)],1)],1),t("el-table",{attrs:{border:"","highlight-current-row":"",data:e.tableList},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"50"}}),t("el-table-column",{attrs:{align:"center",label:"ID",prop:"id",width:"60"}}),t("el-table-column",{attrs:{prop:"code",label:"åŸºåœ°ç¼–å·",width:"80"}}),t("el-table-column",{attrs:{prop:"name",label:"åŸºåœ°åç§°"}}),t("el-table-column",{attrs:{prop:"linkman",label:"è”ç³»ä¿¡æ¯",width:"120"}}),t("el-table-column",{attrs:{prop:"linkman",label:"è”ç³»äºº",width:"120"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-popover",{attrs:{placement:"top-start",title:"è”ç³»ä¿¡æ¯",width:"200",trigger:"hover"}},[t("p",[t("i",{staticClass:"el-icon-user-solid"}),e._v(" "+e._s(a.row.linkman))]),t("p",[t("i",{staticClass:"el-icon-phone"}),e._v(" "+e._s(a.row.tel))]),t("p",[t("i",{staticClass:"el-icon-position"}),e._v(" "+e._s(a.row.address))]),t("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v(e._s(a.row.linkman))])],1)]}}])}),t("el-table-column",{attrs:{prop:"manage.realname",label:"ç¹è‚²ç»ç†",width:"110"},scopedSlots:e._u([{key:"default",fn:function(a){return a.row.manage?[e._v("\n        "+e._s(a.row.manage.realname)),t("br"),e._v(e._s(a.row.manage.mobile)+"\n      ")]:void 0}}],null,!0)}),t("el-table-column",{attrs:{prop:"area_text",label:"æˆæƒåŒºåŸŸ"}}),t("el-table-column",{attrs:{prop:"create_time",label:"åˆ›å»ºæ—¶é—´"}}),t("el-table-column",{attrs:{prop:"status_name",label:"çŠ¶æ€",width:"60"}}),t("el-table-column",{attrs:{label:"æ“ä½œ",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button-group",{staticStyle:{display:"block"}},[e.permission.area?t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleArea(a.row)}}},[e._v("åœ°å—")]):e._e(),e.permission.admin?t("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.handleAdmin(a.row)}}},[e._v("è´¦æˆ·")]):e._e()],1),t("el-button-group",{staticStyle:{"margin-top":"5px"}},[e.permission.edit?t("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("ç¼–è¾‘")]):e._e(),e.permission.delete?t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteItem(a.row.id)}}},[e._v("åˆ é™¤")]):e._e()],1)]}}])})],1),t("div",{staticClass:"pagination-container"},[t("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{background:"","current-page":e.page,"page-sizes":[10,15,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.pageSizeChange,"current-change":e.pageChange}})],1),t("m-dialog",{attrs:{title:"æ·»åŠ åŸºåœ°",visible:e.addDialogVisible},on:{"update:visible":function(t){e.addDialogVisible=t}}},[t("el-form",{ref:"newItem",attrs:{model:e.newItem,rules:e.newItemRules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"åŸºåœ°åç§°",prop:"name"}},[t("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.newItem.name,callback:function(t){e.$set(e.newItem,"name",t)},expression:"newItem.name"}})],1),t("el-form-item",{attrs:{label:"è”ç³»äºº",prop:"linkman"}},[t("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.newItem.linkman,callback:function(t){e.$set(e.newItem,"linkman",t)},expression:"newItem.linkman"}})],1),t("el-form-item",{attrs:{label:"è”ç³»ç”µè¯",prop:"tel"}},[t("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.newItem.tel,callback:function(t){e.$set(e.newItem,"tel",t)},expression:"newItem.tel"}})],1),t("el-form-item",{attrs:{label:"è”ç³»åœ°å€",prop:"address"}},[t("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.newItem.address,callback:function(t){e.$set(e.newItem,"address",t)},expression:"newItem.address"}})],1),t("el-form-item",{attrs:{label:"æˆæƒåŒºåŸŸ",prop:"area"}},[e.addDialogVisible?t("region",{attrs:{defaultSelected:e.defaultAearSelected,multiple:!0},on:{change:e.areaChange}}):e._e()],1),t("el-form-item",{attrs:{label:"çŠ¶æ€",prop:"status"}},[t("el-radio-group",{model:{value:e.newItem.status,callback:function(t){e.$set(e.newItem,"status",t)},expression:"newItem.status"}},[t("el-radio",{attrs:{label:1}},[e._v("ä¸Šæ¶")]),t("el-radio",{attrs:{label:0}},[e._v("ä¸‹æ¶")])],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("å– æ¶ˆ")]),t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.confirmCreateItem}},[e._v("ç¡® å®š")])],1)],1),t("m-dialog",{attrs:{title:"åœ°å—åˆ—è¡¨",visible:e.areaDialogVisible},on:{"update:visible":function(t){e.areaDialogVisible=t}}},[e.areaDialogVisible?t("m-area",{attrs:{"factory-id":e.itemId}}):e._e()],1),t("m-dialog",{attrs:{title:"è´¦æˆ·ç®¡ç†",visible:e.adminDialogVisible},on:{"update:visible":function(t){e.adminDialogVisible=t}}},[e.adminDialogVisible?t("m-admin",{attrs:{api:e.adminApi}}):e._e()],1),t("m-dialog",{attrs:{title:"è®¾ç½®ç¹è‚²ç»ç†",visible:e.showManageDialog},on:{"update:visible":function(t){e.showManageDialog=t}}},[t("factory-manage",{on:{change:e.manageChange}})],1)],1)},n=[],l=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),s=a("0e0b"),r=a("12a0"),o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-container"},[t("div",{staticClass:"filter-container"},[t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"filter-item float-right",attrs:{type:"warning",icon:"el-icon-refresh"},on:{click:e.handleFilter}},[e._v("åˆ·æ–°")])],1),t("el-table",{attrs:{border:"","highlight-current-row":"",data:e.tableList}},[t("el-table-column",{attrs:{align:"center",label:"ID",prop:"id",width:"100"}}),t("el-table-column",{attrs:{prop:"code",label:"ç¼–å·"}}),t("el-table-column",{attrs:{prop:"name",label:"åç§°"}}),t("el-table-column",{attrs:{prop:"size",label:"é¢ç§¯"}}),t("el-table-column",{attrs:{prop:"all_length",label:"å‘¨é•¿"}}),t("el-table-column",{attrs:{prop:"crops",label:"ä½œç‰©"}}),t("el-table-column",{attrs:{prop:"remark",label:"å¤‡æ³¨"}}),t("el-table-column",{attrs:{prop:"create_time",label:"æ·»åŠ æ—¶é—´"}}),t("el-table-column",{attrs:{label:"æ“ä½œ",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button-group",[e.permission.delete?t("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.deleteItem(a.row.id)}}},[e._v("åˆ é™¤")]):e._e()],1)]}}])})],1),t("div",{staticClass:"pagination-container"},[t("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{background:"","current-page":e.page,"page-sizes":[10,15,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.pageSizeChange,"current-change":e.pageChange}})],1)],1)},c=[];a("c5f6");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(l["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"FactoryAreaIndex",props:{factoryId:{type:Number,default:0}},data:function(){return{permission:{delete:this.$checkAuth("FactoryAreaDelete")},page:1,pageSize:10,total:0,tableList:[],map:{},loading:!1}},created:function(){this.getList()},activated:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,this.$ajax.post("/api/factory/area/factory_id/"+this.factoryId,p({page:this.page,pageSize:this.pageSize},this.map)).then((function(t){e.loading=!1,e.tableList=t.data,e.total=t.total})).catch((function(){e.loading=!1}))},pageSizeChange:function(e){this.pageSize=e,this.getList()},pageChange:function(e){this.page=e,this.getList()},handleFilter:function(){this.page=1,this.getList()},deleteItem:function(e){var t=this;this.$confirm("æ­¤æ“ä½œå°†æ°¸ä¹…åˆ é™¤è¯¥åœ°å—, æ˜¯å¦ç»§ç»­?","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then((function(){t.loading||(t.loading=!0,t.$ajax.post("/api/factory/areaDelete/factory_id/"+t.factoryId,{id:e}).then((function(e){t.$notify({title:"æˆåŠŸ",message:"åˆ é™¤æˆåŠŸ",type:"success",duration:2e3}),t.getList()})).finally((function(){t.loading=!1})))}))}}},m=d,g=(a("d2aa"),a("2877")),f=Object(g["a"])(m,o,c,!1,null,"64b7b66a",null),h=f.exports,b=a("20c2"),v=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-container"},[t("div",{staticClass:"filter-container"},[t("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"çœŸå®å§“å"},model:{value:e.map.name,callback:function(t){e.$set(e.map,"name",t)},expression:"map.name"}}),t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("æœç´¢")])],1),t("el-table",{attrs:{border:"","highlight-current-row":"",data:e.tableList}},[t("el-table-column",{attrs:{align:"center",label:"åºå·",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.$index+1)+"\n      ")]}}])}),t("el-table-column",{attrs:{prop:"mobile",label:"æ‰‹æœºå·"}}),t("el-table-column",{attrs:{prop:"realname",label:"çœŸå®å§“å"}}),t("el-table-column",{attrs:{prop:"create_time",label:"åˆ›å»ºæ—¶é—´"}}),t("el-table-column",{attrs:{prop:"status_name",align:"center",label:"çŠ¶æ€",width:"80"}}),t("el-table-column",{attrs:{label:"æ“ä½œ",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.selectItem(a.row.id)}}},[e._v("é€‰æ‹©")])]}}])})],1),t("div",{staticClass:"pagination-container"},[t("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{background:"","current-page":e.page,"page-sizes":[10,15,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.pageSizeChange,"current-change":e.pageChange}})],1)],1)},w=[];function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){Object(l["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _={name:"factoryManage",data:function(){return{page:1,pageSize:10,total:0,tableList:[],map:{},loading:!1,statusList:[{label:"å¯ç”¨",value:1},{label:"ç¦ç”¨",value:0}]}},created:function(){this.getList()},methods:{selectItem:function(e){this.$emit("change",{id:e})},getList:function(){var e=this;this.loading=!0,this.$ajax.post("/api/admin",I({page:this.page,pageSize:this.pageSize},this.map)).then((function(t){e.loading=!1,e.tableList=t.data,e.total=t.total})).catch((function(){e.loading=!1}))},pageSizeChange:function(e){this.pageSize=e,this.getList()},pageChange:function(e){this.page=e,this.getList()},handleFilter:function(){this.page=1,this.getList()}}},x=_,k=Object(g["a"])(x,v,w,!1,null,"34aeff9f",null),S=k.exports,O=a("e39a");function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){Object(l["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $={name:"FactoryIndex",components:{Region:r["a"],MArea:h,MAdmin:b["a"],factoryManage:S,ManageSelect:O["a"]},data:function(){return{permission:{create:this.$checkAuth("FactoryCreate"),edit:this.$checkAuth("FactoryEdit"),delete:this.$checkAuth("FactoryDelete"),area:this.$checkAuth("FactoryArea"),admin:this.$checkAuth("FactoryAdmin"),setManage:this.$checkAuth("FactorySetManage")},page:1,pageSize:10,total:0,tableList:[],map:{},loading:!1,exportLoading:!1,addDialogVisible:!1,areaDialogVisible:!1,adminDialogVisible:!1,showManageDialog:!1,selectedIds:[],defaultAearSelected:[],itemId:"",newItem:{name:"",linkman:"",tel:"",address:"",status:1},newItemRules:{name:[{required:!0,message:"è¯·è¾“å…¥åŸºåœ°åç§°"}],linkman:[{required:!0,message:"è¯·è¾“å…¥è”ç³»äºº"}],tel:[{required:!0,message:"è¯·è¾“å…¥è”ç³»ç”µè¯"}]},statusList:[{label:"ä¸Šæ¶",value:"1"},{label:"ä¸‹æ¶",value:"0"}],adminApi:{}}},created:function(){this.getList()},activated:function(){this.getList()},methods:{handleSelectionChange:function(e){0!==e.length?(this.selectedIds=e.map((function(e){return e.id})),console.log("ğŸš€ ~ handleSelectionChange ~ this.selectedIds:",this.selectedIds)):this.selectedIds=[]},manageChange:function(e){var t=this;this.loading||(this.loading=!0,this.$ajax.post("/api/factory/setManage",{ids:this.selectedIds,manage_id:e.id}).then((function(e){t.showManageDialog=!1,t.getList(),t.$notify({title:"æˆåŠŸ",message:"è®¾ç½®æˆåŠŸ",type:"success",duration:2e3})})).finally((function(){t.loading=!1})))},handleAdmin:function(e){this.adminApi={list:"/api/factory/users/factory_id/"+e.id,add:"/api/factory/userAdd/factory_id/"+e.id,update:"/api/factory/userUpdate/factory_id/"+e.id,delete:"/api/factory/userDelete/factory_id/"+e.id},this.adminDialogVisible=!0},handleArea:function(e){this.itemId=e.id,this.areaDialogVisible=!0},areaChange:function(e,t){var a=["province","city","county","street"],i=[];e.map((function(e){var t={};a.map((function(a,i){t[a]=e.labelList[i]||""})),i.push(t)})),this.$set(this.newItem,"area",i)},handleCreate:function(){this.newItem={name:"",linkman:"",tel:"",address:"",status:1},this.defaultAearSelected=[],this.addDialogVisible=!0},confirmCreateItem:function(){var e=this;this.$refs.newItem.validate((function(t){t&&(e.newItem.id?e.editItem():e.addItem())}))},handleEdit:function(e){var t=[];e.area.map((function(e){var a=[];e.province&&a.push(e.province),e.city&&a.push(e.city),e.county&&a.push(e.county),e.street&&a.push(e.street),t.push(a)})),this.defaultAearSelected=t,this.newItem=e,this.addDialogVisible=!0},getList:function(){var e=this;this.loading=!0,this.$ajax.post("/api/factory/index",C({page:this.page,pageSize:this.pageSize},this.map)).then((function(t){e.loading=!1,e.tableList=t.data,e.total=t.total})).catch((function(){e.loading=!1}))},pageSizeChange:function(e){this.pageSize=e,this.getList()},pageChange:function(e){this.page=e,this.getList()},handleFilter:function(){this.page=1,this.getList()},deleteItem:function(e){var t=this;this.$confirm("æ­¤æ“ä½œå°†æ°¸ä¹…åˆ é™¤è¯¥åŸºåœ°, æ˜¯å¦ç»§ç»­?","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then((function(){t.loading||(t.loading=!0,t.$ajax.post("/api/factory/delete/id/"+e).then((function(e){t.$notify({title:"æˆåŠŸ",message:"åˆ é™¤æˆåŠŸ",type:"success",duration:2e3}),t.getList()})).finally((function(){t.loading=!1})))}))},editItem:function(){var e=this;this.loading||(this.loading=!0,this.$ajax.post("/api/factory/update/id/"+this.newItem.id,this.newItem).then((function(t){e.$notify({title:"æˆåŠŸ",message:"ç¼–è¾‘æˆåŠŸ",type:"success",duration:2e3}),e.addDialogVisible=!1,e.getList()})).finally((function(){e.loading=!1})))},addItem:function(){var e=this;this.loading||(this.loading=!0,this.$ajax.post("/api/factory/add",this.newItem).then((function(t){e.$notify({title:"æˆåŠŸ",message:"æ·»åŠ æˆåŠŸ",type:"success",duration:2e3}),e.addDialogVisible=!1,e.getList()})).finally((function(){e.loading=!1})))},exportExcel:function(e){var t=this;if(!this.exportLoading){this.exportLoading=!0;var a=1===e?"10000":this.pageSize,i=1===e?1:this.page;this.$ajax.post("/api/factory/index",C({page:i,pageSize:a},this.map)).then((function(e){var a=["åŸºåœ°ç¼–å·","åŸºåœ°åç§°","è”ç³»äºº","è”ç³»ç”µè¯","è”ç³»åœ°å€","åˆ›å»ºæ—¶é—´","çŠ¶æ€"],i=e.data.map((function(e){return[e.code,e.name,e.linkman,e.tel,e.address,e.create_time,e.status_name]}));Object(s["a"])({header:a,data:i,filename:"ç¹è‚²åŸºåœ°ä¿¡æ¯"}).finally((function(){t.exportLoading=!1}))})).catch((function(){t.exportLoading=!1}))}}}},L=$,z=(a("7ea3"),Object(g["a"])(L,i,n,!1,null,"1a248de8",null));t["default"]=z.exports},"8ec4":function(e,t,a){},aa77:function(e,t,a){var i=a("5ca1"),n=a("be13"),l=a("79e5"),s=a("fdef"),r="["+s+"]",o="â€‹Â…",c=RegExp("^"+r+r+"*"),u=RegExp(r+r+"*$"),p=function(e,t,a){var n={},r=l((function(){return!!s[e]()||o[e]()!=o})),c=n[e]=r?t(d):s[e];a&&(n[a]=c),i(i.P+i.F*r,"String",n)},d=p.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=p},c5f6:function(e,t,a){"use strict";var i=a("7726"),n=a("69a8"),l=a("2d95"),s=a("5dbc"),r=a("6a99"),o=a("79e5"),c=a("9093").f,u=a("11e9").f,p=a("86cc").f,d=a("aa77").trim,m="Number",g=i[m],f=g,h=g.prototype,b=l(a("2aeb")(h))==m,v="trim"in String.prototype,w=function(e){var t=r(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():d(t,3);var a,i,n,l=t.charCodeAt(0);if(43===l||45===l){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===l){switch(t.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+t}for(var s,o=t.slice(2),c=0,u=o.length;c<u;c++)if(s=o.charCodeAt(c),s<48||s>n)return NaN;return parseInt(o,i)}}return+t};if(!g(" 0o1")||!g("0b1")||g("+0x1")){g=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof g&&(b?o((function(){h.valueOf.call(a)})):l(a)!=m)?s(new f(w(t)),a,g):w(t)};for(var y,I=a("9e1e")?c(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;I.length>_;_++)n(f,y=I[_])&&!n(g,y)&&p(g,y,u(f,y));g.prototype=h,h.constructor=g,a("2aba")(i,m,g)}},d2aa:function(e,t,a){"use strict";a("8ec4")},e39a:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("el-select",{staticStyle:{width:"120px"},attrs:{filterable:"",clearable:"",remote:"","reserve-keyword":"",placeholder:"ç»ç†å§“å","remote-method":e.remoteMethod,loading:e.loading},on:{change:e.changeHandle},model:{value:e.manageId,callback:function(t){e.manageId=t},expression:"manageId"}},e._l(e.options,(function(e){return t("el-option",{key:e.id,attrs:{label:e.realname,value:e.id}})})),1)},n=[],l=(a("c5f6"),{props:{value:{type:[String,Number],default:""}},data:function(){return{loading:!1,options:[],page:1,pageSize:10,manageId:""}},methods:{changeHandle:function(e){this.$emit("input",e)},remoteMethod:function(e){var t=this;""!==e&&(this.loading=!0,this.$ajax.post("/api/admin",{page:this.page,pageSize:this.pageSize,name:e}).then((function(e){t.options=e.data})).finally((function(){t.loading=!1})))}}}),s=l,r=a("2877"),o=Object(r["a"])(s,i,n,!1,null,null,null);t["a"]=o.exports},fdef:function(e,t){e.exports="\t\n\v\f\r Â áš€á â€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029\ufeff"}}]);